<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIエージェントと「3人」で、空想旅行カメラを爆速開発した話【Daydream Camera】 - Blog | Ryo Tsuzukihashi</title>
    <meta name="description" content="地図上にピンを刺すだけでAIが風景写真を現像してくれる空想旅行カメラ「Daydream Camera」を、GeminiとClaude Codeと共に爆速開発した記録。MVVM + Protocol指向設計、セキュリティ実装、マネタイズ設計まで詳しく解説。">
    <meta name="keywords" content="Daydream Camera, AI, iOS開発, 個人開発, Gemini, Claude Code, SwiftUI, Firebase, MapKit">

    <!-- OGP -->
    <meta property="og:title" content="AIエージェントと「3人」で、空想旅行カメラを爆速開発した話【Daydream Camera】">
    <meta property="og:description" content="地図上にピンを刺すだけでAIが風景写真を現像してくれる空想旅行カメラを、AIエージェントと共に爆速開発した物語">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://tsuzukit.com/blog/posts/daydream-camera-development-story.html">
    <meta property="og:image" content="https://tsuzukit.com/assets/images/blog/daydream-camera-icon.jpeg">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QERPQ1EGLH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QERPQ1EGLH');
    </script>

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/blog.css">
    <style>
        /* Article-specific styles */
        .post-content blockquote {
            border-left: 4px solid var(--color-primary);
            color: var(--color-secondary);
        }

        .post-content code {
            background: var(--color-accent);
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.9em;
        }

        .post-content pre {
            background: var(--color-accent);
            padding: var(--spacing-md, 1rem);
            border-radius: var(--border-radius, 8px);
            overflow-x: auto;
            margin: var(--spacing-lg, 1.5rem) 0;
        }

        .post-content pre code {
            background: transparent;
            padding: 0;
        }

        .explanation-box {
            background: var(--color-accent);
            border-left: 4px solid var(--color-primary);
            padding: var(--spacing-md);
            margin: var(--spacing-lg) 0;
            border-radius: var(--border-radius);
        }

        .explanation-box strong {
            display: block;
            margin-bottom: var(--spacing-xs);
            color: var(--color-primary);
        }

        .tech-stack-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }

        .tech-stack-box h4 {
            margin-bottom: var(--spacing-md);
            color: var(--color-primary);
        }

        .tech-stack-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-sm);
        }

        .tech-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-xs) var(--spacing-sm);
            background: white;
            border-radius: 4px;
            font-size: var(--font-size-sm);
        }

        .tech-item strong {
            color: var(--color-secondary);
        }

        .role-box {
            background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%);
            border-left: 4px solid #17a2b8;
            padding: var(--spacing-md);
            margin: var(--spacing-lg) 0;
            border-radius: var(--border-radius);
        }

        .role-box strong {
            color: #17a2b8;
        }

        .security-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: var(--spacing-md);
            margin: var(--spacing-lg) 0;
            border-radius: var(--border-radius);
        }

        .monetize-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: var(--spacing-md);
            margin: var(--spacing-lg) 0;
            border-radius: var(--border-radius);
        }

        .insight-box {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border-left: 4px solid #9c27b0;
            padding: var(--spacing-md);
            margin: var(--spacing-lg) 0;
            border-radius: var(--border-radius);
        }

        .insight-box strong {
            color: #9c27b0;
        }

        .cta-box {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            color: #333;
            padding: var(--spacing-xl);
            border-radius: var(--border-radius);
            text-align: center;
            margin: var(--spacing-2xl) 0;
        }

        .cta-box h3 {
            color: #333;
            margin-bottom: var(--spacing-md);
        }

        .cta-box p {
            margin-bottom: var(--spacing-lg);
            opacity: 0.9;
        }

        .cta-box .btn {
            background: white;
            color: #ff6b6b;
            padding: var(--spacing-sm) var(--spacing-xl);
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            display: inline-block;
            transition: transform 0.2s;
        }

        .cta-box .btn:hover {
            transform: translateY(-2px);
        }

        .app-icon-container {
            text-align: center;
            margin: var(--spacing-2xl) 0;
        }

        .app-icon {
            width: 120px;
            height: 120px;
            border-radius: 27%;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .app-icon-caption {
            margin-top: var(--spacing-sm);
            color: var(--color-text-light);
            font-size: var(--font-size-sm);
        }

        @media (max-width: 768px) {
            .tech-stack-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">Ryo Tsuzukihashi</a>
            <div class="nav-menu">
                <a href="/" class="nav-link">Home</a>
                <a href="/portfolio/" class="nav-link">Portfolio</a>
                <a href="/blog/" class="nav-link">Blog</a>
                <a href="/about/" class="nav-link">About</a>
                <a href="/contact/" class="nav-link">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Blog Post -->
    <article class="blog-post">
        <header class="post-header">
            <div class="post-meta">
                <span class="post-date">2025年12月6日</span>
                <span class="post-category">iOS開発</span>
                <span class="post-reading-time">12分で読める</span>
            </div>
            <h1 class="post-title">AIエージェントと「3人」で、<br>空想旅行カメラを爆速開発した話<br>【Daydream Camera】</h1>
        </header>

        <div class="post-content">
            <div class="app-icon-container">
                <img src="/assets/images/blog/daydream-camera-icon.jpeg" alt="Daydream Camera" class="app-icon">
                <p class="app-icon-caption">Daydream Camera - 空想旅行カメラ</p>
            </div>

            <p>
                こんにちは、ZOZOTOWNでiOSアプリエンジニアをしているtsuzuki817（<a href="https://twitter.com/tsuzuki817" target="_blank">@tsuzuki817</a>）です。
            </p>

            <p>
                今回は、<strong>地図上にピンを刺すだけで、その場所の緯度経度・天候・時間帯をAIが解釈し、風景写真を「現像」してくれる</strong>カメラアプリ <strong>Daydream Camera</strong> を、AIエージェントと共に開発した話をします。
            </p>

            <blockquote>
                「行きたい場所の風景を、AIが夢見てくれる」
            </blockquote>

            <p>
                そんなコンセプトで、フィルムカメラのような体験設計を採用した空想旅行アプリです。
            </p>

            <h1>プロダクト概要：空想旅行カメラとは？</h1>

            <p>
                <strong>Daydream Camera</strong>は、地図上の任意の場所にピンを刺すだけで、AIがその場所の風景写真を「現像」してくれるアプリです。
            </p>

            <ul>
                <li>地図で行きたい場所を選ぶ</li>
                <li>AIが緯度・経度、現地の天候、時間帯を解釈</li>
                <li>フィルムカメラのように「現像」を待つ</li>
                <li>白昼夢のような風景写真が届く</li>
            </ul>

            <p>
                まさに「空想で旅行できる」カメラアプリ。実際に行けない場所でも、AIの想像力で風景を楽しめます。
            </p>

            <h1>開発体制：AIネイティブアプローチ</h1>

            <p>
                今回の開発では、私は<strong>「ディレクター」として仕様決定に専念</strong>し、実装は2つのAIエージェントに委譲する体制を取りました。
            </p>

            <div class="role-box">
                <strong>開発チーム構成</strong>
                <ul style="margin-bottom: 0;">
                    <li><strong>私（ディレクター）</strong>：仕様決定、最終レビュー、リリース判断</li>
                    <li><strong>Gemini（PM/デザイナー役）</strong>：アイデア具体化、原価計算、ロゴ作成、ASO対策</li>
                    <li><strong>Claude Code（実装エンジニア役）</strong>：Swift/SwiftUIコード自動生成、Firebase構築</li>
                </ul>
            </div>

            <p>
                AIエージェントと「3人」で開発する体制は、個人開発の限界を突破する新しいアプローチでした。
            </p>

            <h1>技術アーキテクチャ</h1>

            <h2>採用パターン：MVVM + Protocol指向設計</h2>

            <p>
                SwiftUIのモダンな設計思想に沿って、MVVM + Protocol指向設計を採用しました。
            </p>

            <div class="tech-stack-box">
                <h4>主要技術スタック</h4>
                <div class="tech-stack-grid">
                    <div class="tech-item"><strong>iOS:</strong> 17+</div>
                    <div class="tech-item"><strong>UI:</strong> SwiftUI + @Observable マクロ</div>
                    <div class="tech-item"><strong>永続化:</strong> SwiftData</div>
                    <div class="tech-item"><strong>地図:</strong> MapKit (Look Around機能)</div>
                    <div class="tech-item"><strong>AI:</strong> Firebase AI (Gemini 3 Pro Image)</div>
                    <div class="tech-item"><strong>広告:</strong> AdMob</div>
                </div>
            </div>

            <h2>外部依存の最小化</h2>

            <p>
                外部ライブラリはFirebaseとAdMobのみに絞り、Keychainはセキュリティフレームワークで直接操作しています。
            </p>

            <div class="explanation-box">
                <strong>なぜ外部依存を最小化するのか？</strong>
                <p style="margin-bottom: 0;">
                    個人開発では長期メンテナンスが重要です。外部ライブラリに依存すると、ライブラリの更新に追従し続ける必要があります。必要最低限の依存に抑えることで、メンテナンスコストを削減しています。
                </p>
            </div>

            <h1>MapKitの選定理由：Look Around機能の活用</h1>

            <p>
                地図表示にはMapKitを選定しました。Google Mapsのストリートビューではなく、AppleのLook Around機能を採用した理由があります。
            </p>

            <div class="insight-box">
                <strong>選定の決め手</strong>
                <ul style="margin-bottom: 0;">
                    <li><strong>コスト面</strong>：Google Mapsのストリートビューは従量課金制で「個人開発がバズった際に赤字になるリスク」がある</li>
                    <li><strong>UX面</strong>：Look Aroundのアニメーションの浮遊感がアプリの「白昼夢」コンセプトと見事に合致</li>
                    <li><strong>統合性</strong>：SwiftUIとの親和性が高く、実装がシンプル</li>
                </ul>
            </div>

            <p>
                結果として、コスト削減とUX向上の両方を実現できました。
            </p>

            <h1>セキュリティ実装：サーバーレスでも堅牢に</h1>

            <p>
                サーバーレス構成でも堅牢なセキュリティを実現するため、複数の対策を実装しました。
            </p>

            <div class="security-box">
                <strong>セキュリティ対策一覧</strong>
                <ul style="margin-bottom: 0;">
                    <li><strong>Keychain暗号化保存</strong>：アプリ削除後もUUIDが復元され、BAN回避を防止</li>
                    <li><strong>Firebase App Check</strong>：App Attestトークン検証で不正アクセスを防止</li>
                    <li><strong>Remote Configベースの動的BAN機能</strong>：サーバーデプロイなしで特定ユーザーを即座に機能停止</li>
                    <li><strong>クライアント側サニティチェック</strong>：フィルム残数が上限超過時に自動リセット</li>
                </ul>
            </div>

            <h2>Keychain暗号化保存の実装</h2>

            <p>
                UUIDをKeychainに保存することで、アプリを削除・再インストールしても同じユーザーとして識別できます。これにより、BANされたユーザーがアプリを再インストールして回避することを防いでいます。
            </p>

            <h2>Remote Configによる動的BAN</h2>

            <p>
                Firebase Remote Configを活用し、サーバーをデプロイすることなく、管理コンソールから即座に特定ユーザーの機能を停止できる仕組みを実装しました。不正利用を検知した際に迅速に対応できます。
            </p>

            <h1>マネタイズ設計：「待ち時間」の価値化</h1>

            <p>
                Daydream Cameraでは、<strong>「現像の待ち時間」を価値化</strong>するマネタイズ設計を採用しました。
            </p>

            <div class="monetize-box">
                <strong>マネタイズポイント</strong>
                <p style="margin-bottom: 0;">
                    フィルムカメラのように「現像を待つ」体験設計により、その待ち時間にAdMobバナー広告を自然に表示。生成AIのAPIコスト償却を実現しています。ユーザー体験を損なわず、持続可能なビジネスモデルを構築しました。
                </p>
            </div>

            <p>
                「待つ」という行為自体をポジティブな体験に変換し、その間に広告を表示することで、ユーザーにとってもストレスの少ないマネタイズを実現しています。
            </p>

            <h1>開発から得た学び</h1>

            <p>
                AIエージェントとの開発を通じて、いくつかの重要な学びがありました。
            </p>

            <h2>1. 仕様の明文化が最重要</h2>

            <p>
                AIコード生成の効果を最大限に引き出すには、<strong>「仕様の明文化」（CLAUDE.md）とプロトコル設計の先行</strong>が不可欠です。曖昧な指示ではAIは期待通りのコードを生成できません。
            </p>

            <h2>2. セキュリティレビューは人間が担当</h2>

            <p>
                AIが生成したコードは効率的ですが、<strong>セキュリティ観点のレビューは人間が担当する必要</strong>があります。特に認証・認可、データの永続化、外部APIとの通信部分は念入りに確認しました。
            </p>

            <h2>3. プロトコル設計を先行する</h2>

            <p>
                実装に入る前にプロトコル（インターフェース）を定義しておくと、AIエージェントへの指示が明確になり、生成されるコードの品質が向上します。
            </p>

            <div class="cta-box">
                <h3>Daydream Camera - 空想旅行カメラ</h3>
                <p>
                    行きたい場所の風景を、AIが夢見てくれる。<br>
                    フィルムカメラのような体験で、空想の旅を楽しもう。
                </p>
                <a href="https://apps.apple.com/app/daydream-camera/id6745416215" target="_blank" class="btn">App Storeでダウンロード</a>
            </div>

            <p>
                最後まで読んでいただき、ありがとうございました。<br>
                AIエージェントとの開発は、個人開発の新しい可能性を開いてくれます。ぜひ皆さんも挑戦してみてください。
            </p>
        </div>

        <nav class="post-navigation">
            <a href="/blog/" class="nav-link-wrapper">
                <span>&larr; ブログ一覧に戻る</span>
            </a>
        </nav>
    </article>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-logo">Ryo Tsuzukihashi</h3>
                    <p class="footer-description">思い出&times;テクノロジーで新しい価値を創造</p>
                </div>
                <div class="footer-nav">
                    <a href="/legal/privacy-policy.html">プライバシーポリシー</a>
                    <a href="/legal/terms-of-service.html">利用規約</a>
                    <a href="/legal/commercial-law.html">特定商取引法</a>
                    <a href="/legal/disclaimer.html">免責事項</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Ryo Tsuzukihashi. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>
